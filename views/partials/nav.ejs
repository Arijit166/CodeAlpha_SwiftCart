<header class="bg-gradient-to-r from-purple-800 via-purple-700 to-blue-800 text-white shadow-2xl sticky top-0 z-50 backdrop-blur-md border-b border-purple-400/30">
  <nav class="container mx-auto px-4">
    <!-- Desktop Navigation -->
    <div class="hidden md:flex md:justify-between md:items-center py-4">
      <ul class="flex items-center flex-wrap gap-3">
        <li class="transform hover:scale-105 transition-all duration-300">
          <a
              href="/"
              class="<%= currentPage === 'index' ? 'bg-white/20 font-semibold shadow-lg backdrop-blur-sm border border-white/30' : 'hover:bg-white/10 hover:shadow-lg hover:border-white/20' %> py-3 px-6 rounded-2xl transition-all duration-300 flex items-center group relative overflow-hidden border border-transparent"
            >
              <div class="absolute inset-0 bg-gradient-to-r from-transparent via-white/5 to-transparent -translate-x-full group-hover:translate-x-full transition-transform duration-1000"></div>
              <svg
                xmlns="http://www.w3.org/2000/svg"
                viewBox="0 0 24 24"
                fill="currentColor"
                class="w-6 h-6 mr-3 group-hover:rotate-12 transition-transform duration-300 text-yellow-300"
              >
                <path d="M7 18c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2zM1 2v2h2l3.6 7.59-1.35 2.45c-.16.28-.25.61-.25.96 0 1.1.9 2 2 2h12v-2H7.42c-.14 0-.25-.11-.25-.25l.03-.12L8.1 13h7.45c.75 0 1.41-.41 1.75-1.03L21.7 4H5.21l-.94-2H1zm16 16c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2z"/>
              </svg>
              <span class="font-bold text-xl tracking-wide relative z-10">SwiftCart</span>
            </a>
        </li>

        <% if (isLoggedIn) { %>
          <% if (user && user.userType === 'guest') { %>
            <li class="transform hover:scale-105 transition-all duration-300">
              <a
                href="/product-list"
                class="<%= currentPage === 'Products' ? 'bg-white/20 font-semibold shadow-lg backdrop-blur-sm border border-white/30' : 'hover:bg-white/10 hover:shadow-lg hover:border-white/20' %> py-3 px-5 rounded-xl transition-all duration-300 flex items-center group relative overflow-hidden border border-transparent"
              >
                <div class="absolute inset-0 bg-gradient-to-r from-transparent via-white/5 to-transparent -translate-x-full group-hover:translate-x-full transition-transform duration-1000"></div>
                <svg
                  xmlns="http://www.w3.org/2000/svg"
                  viewBox="0 0 24 24"
                  fill="currentColor"
                  class="w-5 h-5 mr-2 group-hover:bounce text-blue-200"
                >
                  <path
                    d="M19.006 3.705a.75.75 0 00-.512-1.41L6 6.838V3a.75.75 0 00-.75-.75h-1.5A.75.75 0 003 3v4.93l-1.006.365a.75.75 0 00.512 1.41l16.5-6z"
                  />
                  <path
                    fill-rule="evenodd"
                    d="M3.019 11.115L18 5.667V9.09l4.006 1.456a.75.75 0 11-.512 1.41l-.494-.18v8.475h.75a.75.75 0 010 1.5H2.25a.75.75 0 010-1.5H3v-9.129l.019-.006zM18 20.25v-9.565l1.5.545v9.02H18zm-9-6a.75.75 0 00-.75.75v4.5c0 .414.336.75.75.75h3a.75.75 0 00.75-.75V15a.75.75 0 00-.75-.75H9z"
                    clip-rule="evenodd"
                  />
                </svg>
                <span class="font-medium relative z-10">Products</span>
              </a>
            </li>

            <li class="transform hover:scale-105 transition-all duration-300">
              <a
                href="/cart-list"
                class="<%= currentPage === 'carts' ? 'bg-white/20 font-semibold shadow-lg backdrop-blur-sm border border-white/30' : 'hover:bg-white/10 hover:shadow-lg hover:border-white/20' %> py-3 px-5 rounded-xl transition-all duration-300 flex items-center group relative overflow-hidden border border-transparent"
              >
                <div class="absolute inset-0 bg-gradient-to-r from-transparent via-white/5 to-transparent -translate-x-full group-hover:translate-x-full transition-transform duration-1000"></div>
                <span class="font-medium relative z-10">ðŸ›’ Carts</span>
              </a>
            </li>

            <li class="transform hover:scale-105 transition-all duration-300">
              <a
                href="/orders"
                class="<%= currentPage === 'orders' ? 'bg-white/20 font-semibold shadow-lg backdrop-blur-sm border border-white/30' : 'hover:bg-white/10 hover:shadow-lg hover:border-white/20' %> py-3 px-5 rounded-xl transition-all duration-300 flex items-center group relative overflow-hidden border border-transparent"
              >
                <div class="absolute inset-0 bg-gradient-to-r from-transparent via-white/5 to-transparent -translate-x-full group-hover:translate-x-full transition-transform duration-1000"></div>
                <svg
                  xmlns="http://www.w3.org/2000/svg"
                  viewBox="0 0 24 24"
                  fill="currentColor"
                  class="w-5 h-5 mr-2 group-hover:rotate-12 transition-transform duration-300 text-green-300"
                >
                  <path
                    d="M12.75 12.75a.75.75 0 11-1.5 0 .75.75 0 011.5 0zM7.5 15.75a.75.75 0 100-1.5.75.75 0 000 1.5zM8.25 17.25a.75.75 0 11-1.5 0 .75.75 0 011.5 0zM9.75 15.75a.75.75 0 100-1.5.75.75 0 000 1.5zM10.5 17.25a.75.75 0 11-1.5 0 .75.75 0 011.5 0zM12 15.75a.75.75 0 100-1.5.75.75 0 000 1.5zM12.75 17.25a.75.75 0 11-1.5 0 .75.75 0 011.5 0zM14.25 15.75a.75.75 0 100-1.5.75.75 0 000 1.5zM15 17.25a.75.75 0 11-1.5 0 .75.75 0 011.5 0zM16.5 15.75a.75.75 0 100-1.5.75.75 0 000 1.5zM15 12.75a.75.75 0 11-1.5 0 .75.75 0 011.5 0zM16.5 13.5a.75.75 0 100-1.5.75.75 0 000 1.5z"
                  />
                  <path
                    fill-rule="evenodd"
                    d="M6.75 2.25A.75.75 0 017.5 3v1.5h9V3A.75.75 0 0118 3v1.5h.75a3 3 0 013 3v11.25a3 3 0 01-3 3H5.25a3 3 0 01-3-3V7.5a3 3 0 013-3H6V3a.75.75 0 01.75-.75zm13.5 9a1.5 1.5 0 00-1.5-1.5H5.25a1.5 1.5 0 00-1.5 1.5v7.5a1.5 1.5 0 001.5 1.5h13.5a1.5 1.5 0 001.5-1.5v-7.5z"
                    clip-rule="evenodd"
                  />
                </svg>
                <span class="font-medium relative z-10">Orders</span>
              </a>
            </li>
          <% } else { %>
            <li class="transform hover:scale-105 transition-all duration-300">
              <a
                href="/host/product-list"
                class="<%= currentPage === 'products' ? 'bg-white/20 font-semibold shadow-lg backdrop-blur-sm border border-white/30' : 'hover:bg-white/10 hover:shadow-lg hover:border-white/20' %> py-3 px-5 rounded-xl transition-all duration-300 flex items-center group relative overflow-hidden border border-transparent"
              >
                <div class="absolute inset-0 bg-gradient-to-r from-transparent via-white/5 to-transparent -translate-x-full group-hover:translate-x-full transition-transform duration-1000"></div>
                <svg
                  xmlns="http://www.w3.org/2000/svg"
                  viewBox="0 0 24 24"
                  fill="currentColor"
                  class="w-5 h-5 mr-2 group-hover:rotate-12 transition-transform duration-300 text-yellow-300"
                >
                  <path
                    d="M5.223 2.25c-.497 0-.974.198-1.325.55l-1.3 1.298A3.75 3.75 0 007.5 9.75c.627.47 1.406.75 2.25.75.844 0 1.624-.28 2.25-.75.626.47 1.406.75 2.25.75.844 0 1.623-.28 2.25-.75a3.75 3.75 0 004.902-5.652l-1.3-1.299a1.875 1.875 0 00-1.325-.549H5.223z"
                  />
                  <path
                    fill-rule="evenodd"
                    d="M3 20.25v-8.755c1.42.674 3.08.673 4.5 0A5.234 5.234 0 009.75 12c.804 0 1.568-.182 2.25-.506a5.234 5.234 0 002.25.506c.804 0 1.567-.182 2.25-.506 1.42.674 3.08.675 4.5.001v8.755h.75a.75.75 0 010 1.5H2.25a.75.75 0 010-1.5H3zm3-6a.75.75 0 01.75-.75h3a.75.75 0 01.75.75v3a.75.75 0 01-.75.75h-3a.75.75 0 01-.75-.75v-3zm8.25-.75a.75.75 0 00-.75.75v5.25c0 .414.336.75.75.75h3a.75.75 0 00.75-.75v-5.25a.75.75 0 00-.75-.75h-3z"
                    clip-rule="evenodd"
                  />
                </svg>
                <span class="font-medium relative z-10">Manage Products</span>
              </a>
            </li>

            <li class="transform hover:scale-105 transition-all duration-300">
              <a
                href="/host/add-product"
                class="<%= currentPage === 'addProduct' ? 'bg-white/20 font-semibold shadow-lg backdrop-blur-sm border border-white/30' : 'hover:bg-white/10 hover:shadow-lg hover:border-white/20' %> py-3 px-5 rounded-xl transition-all duration-300 flex items-center group relative overflow-hidden border border-transparent"
              >
                <div class="absolute inset-0 bg-gradient-to-r from-transparent via-white/5 to-transparent -translate-x-full group-hover:translate-x-full transition-transform duration-1000"></div>
                <svg
                  xmlns="http://www.w3.org/2000/svg"
                  viewBox="0 0 24 24"
                  fill="currentColor"
                  class="w-5 h-5 mr-2 group-hover:rotate-90 transition-transform duration-300 text-green-300"
                >
                  <path
                    fill-rule="evenodd"
                    d="M12 3.75a.75.75 0 01.75.75v6.75h6.75a.75.75 0 010 1.5h-6.75v6.75a.75.75 0 01-1.5 0v-6.75H4.5a.75.75 0 010-1.5h6.75V4.5a.75.75 0 01.75-.75z"
                    clip-rule="evenodd"
                  />
                </svg>
                <span class="font-medium relative z-10">Add Product</span>
              </a>
            </li>
          <% } %>
        <% } %>
      </ul>

      <ul class="flex items-center gap-4">
        <% if (!isLoggedIn) { %>
        <li class="transform hover:scale-105 transition-all duration-300">
          <a
            href="/signup"
            class="<%= currentPage === 'signup' ? 'bg-white/25 font-semibold shadow-lg backdrop-blur-sm border-white/40' : 'hover:bg-white/15 hover:shadow-lg hover:border-white/40' %> py-3 px-6 rounded-xl transition-all duration-300 border border-white/30 font-medium backdrop-blur-sm group relative overflow-hidden"
          >
            <div class="absolute inset-0 bg-gradient-to-r from-transparent via-white/5 to-transparent -translate-x-full group-hover:translate-x-full transition-transform duration-1000"></div>
            <span class="relative z-10">Sign Up</span>
          </a>
        </li>
        <li class="transform hover:scale-105 transition-all duration-300">
          <a
            href="/login"
            class="<%= currentPage === 'login' ? 'bg-gradient-to-r from-yellow-400 to-orange-500 text-purple-900 font-semibold shadow-xl' : 'bg-gradient-to-r from-yellow-400 to-orange-500 text-purple-900 hover:from-yellow-300 hover:to-orange-400 hover:shadow-xl' %> py-3 px-6 rounded-xl transition-all duration-300 font-medium shadow-lg group relative overflow-hidden"
          >
            <div class="absolute inset-0 bg-gradient-to-r from-transparent via-white/10 to-transparent -translate-x-full group-hover:translate-x-full transition-transform duration-1000"></div>
            <span class="relative z-10 font-bold">Login</span>
          </a>
        </li>
        <% } else { %>
        <li class="transform hover:scale-105 transition-all duration-300">
            <button
              id="logoutBtn"
              type="button"
              class="hover:bg-red-500/20 hover:shadow-lg hover:border-red-400/50 py-3 px-6 rounded-xl transition-all duration-300 border border-white/30 flex items-center font-medium backdrop-blur-sm group relative overflow-hidden"
            >
              <div class="absolute inset-0 bg-gradient-to-r from-transparent via-red-500/10 to-transparent -translate-x-full group-hover:translate-x-full transition-transform duration-1000"></div>
              <svg
                xmlns="http://www.w3.org/2000/svg"
                viewBox="0 0 24 24"
                fill="currentColor"
                class="w-5 h-5 mr-2 group-hover:-translate-x-1 transition-transform duration-300"
              >
                <path
                  fill-rule="evenodd"
                  d="M7.5 3.75A1.5 1.5 0 006 5.25v13.5a1.5 1.5 0 001.5 1.5h6a1.5 1.5 0 001.5-1.5V15a.75.75 0 011.5 0v3.75a3 3 0 01-3 3h-6a3 3 0 01-3-3V5.25a3 3 0 013-3h6a3 3 0 013 3V9A.75.75 0 0115 9V5.25a1.5 1.5 0 00-1.5-1.5h-6zm5.03 4.72a.75.75 0 010 1.06l-1.72 1.72h10.94a.75.75 0 010 1.5H10.81l1.72 1.72a.75.75 0 11-1.06 1.06l-3-3a.75.75 0 010-1.06l3-3a.75.75 0 011.06 0z"
                  clip-rule="evenodd"
                />
              </svg>
              <span class="relative z-10">Logout</span>
            </button>

            <!-- Hidden form for actual logout -->
            <form id="logoutForm" action="/logout" method="POST" style="display: none;"></form>
          </li>

          <!-- Logout Confirmation Modal -->
          <div id="logoutModal" class="fixed inset-0 z-[100] hidden">
            <!-- Backdrop -->
            <div class="absolute inset-0 bg-black/60 backdrop-blur-sm"></div>
            
            <!-- Modal -->
            <div class="flex items-center justify-center min-h-screen p-4">
              <div class="relative bg-gradient-to-br from-purple-900 via-purple-800 to-blue-900 rounded-3xl shadow-2xl border border-purple-400/30 max-w-md w-full transform transition-all duration-300 scale-95 opacity-0" id="modalContent">
                <!-- Modal Header -->
                <div class="p-8 text-center">
                  <div class="mx-auto flex items-center justify-center w-16 h-16 rounded-full bg-red-500/20 border-2 border-red-400/50 mb-6">
                    <svg xmlns="http://www.w3.org/2000/svg" class="h-8 w-8 text-red-400" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                      <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-2.5L13.732 4c-.77-.833-1.728-.833-2.498 0L4.316 16.5c-.77.833.192 2.5 1.732 2.5z" />
                    </svg>
                  </div>
                  
                  <h3 class="text-2xl font-bold text-white mb-4">Confirm Logout</h3>
                  <p class="text-purple-200 mb-8">Are you sure you want to logout? You'll need to sign in again to access your account.</p>
                  
                  <!-- Buttons -->
                  <div class="flex gap-4">
                    <button
                      id="cancelLogout"
                      class="flex-1 px-6 py-3 rounded-xl border border-white/30 text-white font-medium hover:bg-white/10 transition-all duration-300 backdrop-blur-sm"
                    >
                      Cancel
                    </button>
                    <button
                      id="confirmLogout"
                      class="flex-1 px-6 py-3 rounded-xl bg-gradient-to-r from-red-500 to-red-600 text-white font-medium hover:from-red-600 hover:to-red-700 transition-all duration-300 shadow-lg"
                    >
                      Logout
                    </button>
                  </div>
                </div>
              </div>
            </div>
          </div>
        <% } %>
      </ul>
    </div>
  </nav>
  <script>
    document.addEventListener('DOMContentLoaded', function() {
    const logoutBtn = document.getElementById('logoutBtn');
    const logoutModal = document.getElementById('logoutModal');
    const modalContent = document.getElementById('modalContent');
    const cancelLogout = document.getElementById('cancelLogout');
    const confirmLogout = document.getElementById('confirmLogout');
    const logoutForm = document.getElementById('logoutForm');

    // Show modal
    logoutBtn.addEventListener('click', function() {
      logoutModal.classList.remove('hidden');
      setTimeout(() => {
        modalContent.classList.remove('scale-95', 'opacity-0');
        modalContent.classList.add('scale-100', 'opacity-100');
      }, 10);
    });

    // Hide modal
    function hideModal() {
      modalContent.classList.remove('scale-100', 'opacity-100');
      modalContent.classList.add('scale-95', 'opacity-0');
      setTimeout(() => {
        logoutModal.classList.add('hidden');
      }, 300);
    }

    // Cancel logout
    cancelLogout.addEventListener('click', hideModal);

    // Confirm logout
    confirmLogout.addEventListener('click', function() {
      logoutForm.submit();
    });

    // Close modal when clicking backdrop
    logoutModal.addEventListener('click', function(e) {
      if (e.target === logoutModal) {
        hideModal();
      }
    });

    // Close modal with Escape key
    document.addEventListener('keydown', function(e) {
      if (e.key === 'Escape' && !logoutModal.classList.contains('hidden')) {
        hideModal();
      }
    });
  });
  </script>
</header>  